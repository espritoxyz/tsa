#include "../imports/stdlib.fc";

cell store_values(int value1, int value2) {
    return begin_cell()
        .store_int(value1, 10)
        .store_int(0, 10)
        .store_int(value2, 10)
        .end_cell();
}

() recv_internal(int msg_value, cell in_msg_cell, slice in_msg) impure {
    int a1 = in_msg~load_int(10);
    int a2 = in_msg~load_int(10);
    int a3 = in_msg~load_int(10);
    int a4 = in_msg~load_int(10);

    slice s1 = store_values(a1, a2).begin_parse();
    slice s2 = store_values(a3, a4).begin_parse();

    throw_unless(999, a2 == 1);

    throw_if(1000, equal_slice_bits(s1, s2));
    throw(1001);
}
